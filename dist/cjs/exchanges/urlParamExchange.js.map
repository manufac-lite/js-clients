{"version":3,"file":"urlParamExchange.js","sourceRoot":"","sources":["../../../src/exchanges/urlParamExchange.ts"],"names":[],"mappings":";;;AAAA,qCAAyC;AAE5B,QAAA,gBAAgB,GAAG,IAAA,kBAAW,EAAC;IAC1C,WAAW,EAAE,CAAC,SAAS,EAAE,EAAE;QACzB,IAAI,SAAS,CAAC,OAAO,CAAC,GAAG,IAAI,SAAS,CAAC,OAAO,CAAC,aAAa,EAAE;YAC5D,IAAI;gBACF,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACzD,MAAM,SAAS,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC;gBAC9C,SAAS,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBAC5D,SAAS,CAAC,OAAO,CAAC,GAAG,GAAG,GAAG,KAAK,IAAI,SAAS,CAAC,QAAQ,EAAE,EAAE,CAAC;aAC5D;YAAC,OAAO,KAAK,EAAE;gBACd,2HAA2H;aAC5H;SACF;IACH,CAAC;CACF,CAAC,CAAC","sourcesContent":["import { mapExchange } from \"@urql/core\";\n\nexport const urlParamExchange = mapExchange({\n  onOperation: (operation) => {\n    if (operation.context.url && operation.context.operationName) {\n      try {\n        const [start, params] = operation.context.url.split(\"?\");\n        const paramsObj = new URLSearchParams(params);\n        paramsObj.set(\"operation\", operation.context.operationName);\n        operation.context.url = `${start}?${paramsObj.toString()}`;\n      } catch (error) {\n        // not able to parse URL params, just don't add this optional param and let the rest of the system react to the invalid URL\n      }\n    }\n  },\n});\n"]}